// Chef Numbers Prisma Schema
// Frontend-synchronisiertes Schema v2.2.2
// Automatisch generiert am: 2025-10-29T20:35:35.938Z

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// Model: Supplier
model Supplier {
  id                     String @db.VarChar(36)
  db_id                  String @id @default(uuid()) @db.VarChar(36)
  name                   String @db.Text
  contactPerson          String? @map("contact_person") @db.Text
  email                  String? @db.Text
  website                String? @db.Text
  address                Json?
  phoneNumbers           Json? @map("phone_numbers")
  notes                  String? @db.Text
  isDirty                Boolean? @default(false) @map("is_dirty")
  isNew                  Boolean? @default(false) @map("is_new")
  syncStatus             String? @default("pending") @map("sync_status")
  createdAt              DateTime @default(now()) @map("created_at") @db.Timestamp(0)
  updatedAt              DateTime @updatedAt @map("updated_at") @db.Timestamp(0)
  createdBy              String? @map("created_by") @db.VarChar(36)
  updatedBy              String? @map("updated_by") @db.VarChar(36)
  lastModifiedBy         String? @map("last_modified_by") @db.VarChar(36)

  @@map("suppliers")
}

// Model: Article
model Article {
  id                     String @db.VarChar(36)
  db_id                  String @id @default(uuid()) @db.VarChar(36)
  name                   String @db.Text
  category               String @db.Text
  supplierId             String @map("supplier_id") @db.VarChar(36)
  supplierArticleNumber  String? @map("supplier_article_number") @db.Text
  bundleUnit             String? @map("bundle_unit") @db.Text
  bundlePrice            Decimal? @map("bundle_price") @db.Decimal(10, 4)
  bundleEanCode          String? @map("bundle_ean_code") @db.Text
  content                Decimal? @db.Decimal(10, 4)
  contentUnit            String? @map("content_unit") @db.Text
  contentEanCode         String? @map("content_ean_code") @db.Text
  pricePerUnit           Decimal? @map("price_per_unit") @db.Decimal(10, 4)
  vatRate                Decimal? @default(19) @map("vat_rate") @db.Decimal(10, 4)
  allergens              Json?
  additives              Json?
  ingredients            String? @db.Text
  nutritionInfo          Json? @map("nutrition_info")
  alcohol                Decimal? @db.Decimal(10, 4)
  openFoodFactsCode      String? @map("open_food_facts_code") @db.Text
  pricePerUnitHistory    Json? @map("price_per_unit_history")
  notes                  String? @db.Text
  isDirty                Boolean? @default(false) @map("is_dirty")
  isNew                  Boolean? @default(false) @map("is_new")
  syncStatus             String? @default("pending") @map("sync_status")
  createdAt              DateTime @default(now()) @map("created_at") @db.Timestamp(0)
  updatedAt              DateTime @updatedAt @map("updated_at") @db.Timestamp(0)
  createdBy              String? @map("created_by") @db.VarChar(36)
  updatedBy              String? @map("updated_by") @db.VarChar(36)
  lastModifiedBy         String? @map("last_modified_by") @db.VarChar(36)

  @@map("articles")
}

// Model: Recipe
model Recipe {
  id                     String @db.VarChar(36)
  db_id                  String @id @default(uuid()) @db.VarChar(36)
  name                   String @db.Text
  description            String? @db.Text
  portions               Decimal? @default(1) @db.Decimal(10, 4)
  preparationTime        Decimal? @map("preparation_time") @db.Decimal(10, 4)
  difficulty             Int?
  energy                 Decimal? @db.Decimal(10, 4)
  image                  String? @db.Text
  ingredients            Json?
  usedRecipes            Json? @map("used_recipes")
  preparationSteps       Json? @map("preparation_steps")
  materialCosts          Decimal? @map("material_costs") @db.Decimal(10, 4)
  markupPercentage       Decimal? @default(300) @map("markup_percentage") @db.Decimal(10, 4)
  vatRate                Decimal? @default(19) @map("vat_rate") @db.Decimal(10, 4)
  sellingPrice           Decimal? @map("selling_price") @db.Decimal(10, 4)
  sellingPriceHistory    Json? @map("selling_price_history")
  totalNutritionInfo     Json? @map("total_nutrition_info")
  allergens              Json?
  notes                  String? @db.Text
  isDirty                Boolean? @default(false) @map("is_dirty")
  isNew                  Boolean? @default(false) @map("is_new")
  syncStatus             String? @default("pending") @map("sync_status")
  createdAt              DateTime @default(now()) @map("created_at") @db.Timestamp(0)
  updatedAt              DateTime @updatedAt @map("updated_at") @db.Timestamp(0)
  createdBy              String? @map("created_by") @db.VarChar(36)
  updatedBy              String? @map("updated_by") @db.VarChar(36)
  lastModifiedBy         String? @map("last_modified_by") @db.VarChar(36)

  @@map("recipes")
}

// System-Tabellen

model SystemInfo {
  id          String   @id @default(uuid()) @db.VarChar(36)
  key         String   @unique @db.VarChar(100)
  value       String   @db.Text
  description String?  @db.Text
  createdAt   DateTime @default(now()) @map("created_at") @db.Timestamp(0)
  updatedAt   DateTime @updatedAt @map("updated_at") @db.Timestamp(0)

  @@map("system_info")
}
